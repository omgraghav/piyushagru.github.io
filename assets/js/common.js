!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,n){"use strict";var i,r;/**
 * vivus - JavaScript library to make drawing animation on SVG
 * @version v0.4.4
 * @link https://github.com/maxwellito/vivus
 * @license MIT
 */
!function(){function n(t){if(void 0===t)throw new Error('Pathformer [constructor]: "element" parameter is required');if(t.constructor===String&&!(t=document.getElementById(t)))throw new Error('Pathformer [constructor]: "element" parameter is not related to an existing ID');if(!(t instanceof window.SVGElement||t instanceof window.SVGGElement||/^svg$/i.test(t.nodeName)))throw new Error('Pathformer [constructor]: "element" parameter must be a string or a SVGelement');this.el=t,this.scan(t)}function o(t,e,n){s(),this.isReady=!1,this.setElement(t,e),this.setOptions(e),this.setCallback(n),this.isReady&&this.init()}n.prototype.TYPES=["line","ellipse","circle","polygon","polyline","rect"],n.prototype.ATTR_WATCH=["cx","cy","points","r","rx","ry","x","x1","x2","y","y1","y2"],n.prototype.scan=function(t){for(var e,n,i,r,o=t.querySelectorAll(this.TYPES.join(",")),s=0;s<o.length;s++)n=o[s],e=this[n.tagName.toLowerCase()+"ToPath"],i=e(this.parseAttr(n.attributes)),r=this.pathMaker(n,i),n.parentNode.replaceChild(r,n)},n.prototype.lineToPath=function(t){var e={},n=t.x1||0,i=t.y1||0,r=t.x2||0,o=t.y2||0;return e.d="M"+n+","+i+"L"+r+","+o,e},n.prototype.rectToPath=function(t){var e={},n=parseFloat(t.x)||0,i=parseFloat(t.y)||0,r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;if(t.rx||t.ry){var s=parseInt(t.rx,10)||-1,a=parseInt(t.ry,10)||-1;s=Math.min(Math.max(s<0?a:s,0),r/2),a=Math.min(Math.max(a<0?s:a,0),o/2),e.d="M "+(n+s)+","+i+" L "+(n+r-s)+","+i+" A "+s+","+a+",0,0,1,"+(n+r)+","+(i+a)+" L "+(n+r)+","+(i+o-a)+" A "+s+","+a+",0,0,1,"+(n+r-s)+","+(i+o)+" L "+(n+s)+","+(i+o)+" A "+s+","+a+",0,0,1,"+n+","+(i+o-a)+" L "+n+","+(i+a)+" A "+s+","+a+",0,0,1,"+(n+s)+","+i}else e.d="M"+n+" "+i+" L"+(n+r)+" "+i+" L"+(n+r)+" "+(i+o)+" L"+n+" "+(i+o)+" Z";return e},n.prototype.polylineToPath=function(t){var e,n,i={},r=t.points.trim().split(" ");if(-1===t.points.indexOf(",")){var o=[];for(e=0;e<r.length;e+=2)o.push(r[e]+","+r[e+1]);r=o}for(n="M"+r[0],e=1;e<r.length;e++)-1!==r[e].indexOf(",")&&(n+="L"+r[e]);return i.d=n,i},n.prototype.polygonToPath=function(t){var e=n.prototype.polylineToPath(t);return e.d+="Z",e},n.prototype.ellipseToPath=function(t){var e={},n=parseFloat(t.rx)||0,i=parseFloat(t.ry)||0,r=parseFloat(t.cx)||0,o=parseFloat(t.cy)||0,s=r-n,a=o,u=parseFloat(r)+parseFloat(n),c=o;return e.d="M"+s+","+a+"A"+n+","+i+" 0,1,1 "+u+","+c+"A"+n+","+i+" 0,1,1 "+s+","+c,e},n.prototype.circleToPath=function(t){var e={},n=parseFloat(t.r)||0,i=parseFloat(t.cx)||0,r=parseFloat(t.cy)||0,o=i-n,s=r,a=parseFloat(i)+parseFloat(n),u=r;return e.d="M"+o+","+s+"A"+n+","+n+" 0,1,1 "+a+","+u+"A"+n+","+n+" 0,1,1 "+o+","+u,e},n.prototype.pathMaker=function(t,e){var n,i,r=document.createElementNS("http://www.w3.org/2000/svg","path");for(n=0;n<t.attributes.length;n++)i=t.attributes[n],-1===this.ATTR_WATCH.indexOf(i.name)&&r.setAttribute(i.name,i.value);for(n in e)r.setAttribute(n,e[n]);return r},n.prototype.parseAttr=function(t){for(var e,n={},i=0;i<t.length;i++){if(e=t[i],-1!==this.ATTR_WATCH.indexOf(e.name)&&-1!==e.value.indexOf("%"))throw new Error("Pathformer [parseAttr]: a SVG shape got values in percentage. This cannot be transformed into 'path' tags. Please use 'viewBox'.");n[e.name]=e.value}return n};var s,a,u,c;o.LINEAR=function(t){return t},o.EASE=function(t){return-Math.cos(t*Math.PI)/2+.5},o.EASE_OUT=function(t){return 1-Math.pow(1-t,3)},o.EASE_IN=function(t){return Math.pow(t,3)},o.EASE_OUT_BOUNCE=function(t){var e=1-Math.cos(t*(.5*Math.PI)),n=Math.pow(e,1.5),i=Math.pow(1-t,2);return 1-i+(1-Math.abs(Math.cos(n*(2.5*Math.PI))))*i},o.prototype.setElement=function(t,e){var n,i;if(void 0===t)throw new Error('Vivus [constructor]: "element" parameter is required');if(t.constructor===String&&!(t=document.getElementById(t)))throw new Error('Vivus [constructor]: "element" parameter is not related to an existing ID');if(this.parentEl=t,e&&e.file){var i=this;n=function(t){var n=document.createElement("div");n.innerHTML=this.responseText;var r=n.querySelector("svg");if(!r)throw new Error("Vivus [load]: Cannot find the SVG in the loaded file : "+e.file);i.el=r,i.el.setAttribute("width","100%"),i.el.setAttribute("height","100%"),i.parentEl.appendChild(i.el),i.isReady=!0,i.init(),i=null};var r=new window.XMLHttpRequest;return r.addEventListener("load",n),r.open("GET",e.file),void r.send()}switch(t.constructor){case window.SVGSVGElement:case window.SVGElement:case window.SVGGElement:this.el=t,this.isReady=!0;break;case window.HTMLObjectElement:i=this,n=function(e){if(!i.isReady){if(i.el=t.contentDocument&&t.contentDocument.querySelector("svg"),!i.el&&e)throw new Error("Vivus [constructor]: object loaded does not contain any SVG");i.el&&(t.getAttribute("built-by-vivus")&&(i.parentEl.insertBefore(i.el,t),i.parentEl.removeChild(t),i.el.setAttribute("width","100%"),i.el.setAttribute("height","100%")),i.isReady=!0,i.init(),i=null)}},n()||t.addEventListener("load",n);break;default:throw new Error('Vivus [constructor]: "element" parameter is not valid (or miss the "file" attribute)')}},o.prototype.setOptions=function(t){var e=["delayed","sync","async","nsync","oneByOne","scenario","scenario-sync"],n=["inViewport","manual","autostart"];if(void 0!==t&&t.constructor!==Object)throw new Error('Vivus [constructor]: "options" parameter must be an object');if(t=t||{},t.type&&-1===e.indexOf(t.type))throw new Error("Vivus [constructor]: "+t.type+" is not an existing animation `type`");if(this.type=t.type||e[0],t.start&&-1===n.indexOf(t.start))throw new Error("Vivus [constructor]: "+t.start+" is not an existing `start` option");if(this.start=t.start||n[0],this.isIE=-1!==window.navigator.userAgent.indexOf("MSIE")||-1!==window.navigator.userAgent.indexOf("Trident/")||-1!==window.navigator.userAgent.indexOf("Edge/"),this.duration=c(t.duration,120),this.delay=c(t.delay,null),this.dashGap=c(t.dashGap,1),this.forceRender=t.hasOwnProperty("forceRender")?!!t.forceRender:this.isIE,this.reverseStack=!!t.reverseStack,this.selfDestroy=!!t.selfDestroy,this.onReady=t.onReady,this.map=[],this.frameLength=this.currentFrame=this.delayUnit=this.speed=this.handle=null,this.ignoreInvisible=!!t.hasOwnProperty("ignoreInvisible")&&!!t.ignoreInvisible,this.animTimingFunction=t.animTimingFunction||o.LINEAR,this.pathTimingFunction=t.pathTimingFunction||o.LINEAR,this.delay>=this.duration)throw new Error("Vivus [constructor]: delay must be shorter than duration")},o.prototype.setCallback=function(t){if(t&&t.constructor!==Function)throw new Error('Vivus [constructor]: "callback" parameter must be a function');this.callback=t||function(){}},o.prototype.mapping=function(){var t,e,n,i,r,o,s,a;for(a=o=s=0,e=this.el.querySelectorAll("path"),t=0;t<e.length;t++)n=e[t],this.isInvisible(n)||(r={el:n,length:Math.ceil(n.getTotalLength())},isNaN(r.length)?window.console&&console.warn&&console.warn("Vivus [mapping]: cannot retrieve a path element length",n):(this.map.push(r),n.style.strokeDasharray=r.length+" "+(r.length+2*this.dashGap),n.style.strokeDashoffset=r.length+this.dashGap,r.length+=this.dashGap,o+=r.length,this.renderPath(t)));for(o=0===o?1:o,this.delay=null===this.delay?this.duration/3:this.delay,this.delayUnit=this.delay/(e.length>1?e.length-1:1),this.reverseStack&&this.map.reverse(),t=0;t<this.map.length;t++){switch(r=this.map[t],this.type){case"delayed":r.startAt=this.delayUnit*t,r.duration=this.duration-this.delay;break;case"oneByOne":r.startAt=s/o*this.duration,r.duration=r.length/o*this.duration;break;case"sync":case"async":case"nsync":r.startAt=0,r.duration=this.duration;break;case"scenario-sync":n=r.el,i=this.parseAttr(n),r.startAt=a+(c(i["data-delay"],this.delayUnit)||0),r.duration=c(i["data-duration"],this.duration),a=void 0!==i["data-async"]?r.startAt:r.startAt+r.duration,this.frameLength=Math.max(this.frameLength,r.startAt+r.duration);break;case"scenario":n=r.el,i=this.parseAttr(n),r.startAt=c(i["data-start"],this.delayUnit)||0,r.duration=c(i["data-duration"],this.duration),this.frameLength=Math.max(this.frameLength,r.startAt+r.duration)}s+=r.length,this.frameLength=this.frameLength||this.duration}},o.prototype.drawer=function(){var t=this;if(this.currentFrame+=this.speed,this.currentFrame<=0)this.stop(),this.reset();else{if(!(this.currentFrame>=this.frameLength))return this.trace(),void(this.handle=a(function(){t.drawer()}));this.stop(),this.currentFrame=this.frameLength,this.trace(),this.selfDestroy&&this.destroy()}this.callback(this),this.instanceCallback&&(this.instanceCallback(this),this.instanceCallback=null)},o.prototype.trace=function(){var t,e,n,i;for(i=this.animTimingFunction(this.currentFrame/this.frameLength)*this.frameLength,t=0;t<this.map.length;t++)n=this.map[t],e=(i-n.startAt)/n.duration,e=this.pathTimingFunction(Math.max(0,Math.min(1,e))),n.progress!==e&&(n.progress=e,n.el.style.strokeDashoffset=Math.floor(n.length*(1-e)),this.renderPath(t))},o.prototype.renderPath=function(t){if(this.forceRender&&this.map&&this.map[t]){var e=this.map[t],n=e.el.cloneNode(!0);e.el.parentNode.replaceChild(n,e.el),e.el=n}},o.prototype.init=function(){this.frameLength=0,this.currentFrame=0,this.map=[],new n(this.el),this.mapping(),this.starter(),this.onReady&&this.onReady(this)},o.prototype.starter=function(){switch(this.start){case"manual":return;case"autostart":this.play();break;case"inViewport":var t=this,e=function(){t.isInViewport(t.parentEl,1)&&(t.play(),window.removeEventListener("scroll",e))};window.addEventListener("scroll",e),e()}},o.prototype.getStatus=function(){return 0===this.currentFrame?"start":this.currentFrame===this.frameLength?"end":"progress"},o.prototype.reset=function(){return this.setFrameProgress(0)},o.prototype.finish=function(){return this.setFrameProgress(1)},o.prototype.setFrameProgress=function(t){return t=Math.min(1,Math.max(0,t)),this.currentFrame=Math.round(this.frameLength*t),this.trace(),this},o.prototype.play=function(t,e){if(this.instanceCallback=null,t&&"function"==typeof t)this.instanceCallback=t,t=null;else if(t&&"number"!=typeof t)throw new Error("Vivus [play]: invalid speed");return e&&"function"==typeof e&&!this.instanceCallback&&(this.instanceCallback=e),this.speed=t||1,this.handle||this.drawer(),this},o.prototype.stop=function(){return this.handle&&(u(this.handle),this.handle=null),this},o.prototype.destroy=function(){this.stop();var t,e;for(t=0;t<this.map.length;t++)e=this.map[t],e.el.style.strokeDashoffset=null,e.el.style.strokeDasharray=null,this.renderPath(t)},o.prototype.isInvisible=function(t){var e,n=t.getAttribute("data-ignore");return null!==n?"false"!==n:!!this.ignoreInvisible&&(e=t.getBoundingClientRect(),!e.width&&!e.height)},o.prototype.parseAttr=function(t){var e,n={};if(t&&t.attributes)for(var i=0;i<t.attributes.length;i++)e=t.attributes[i],n[e.name]=e.value;return n},o.prototype.isInViewport=function(t,e){var n=this.scrollY(),i=n+this.getViewportH(),r=t.getBoundingClientRect(),o=r.height,s=n+r.top,a=s+o;return e=e||0,s+o*e<=i&&a>=n},o.prototype.getViewportH=function(){var t=this.docElem.clientHeight,e=window.innerHeight;return t<e?e:t},o.prototype.scrollY=function(){return window.pageYOffset||this.docElem.scrollTop},s=function(){o.prototype.docElem||(o.prototype.docElem=window.document.documentElement,a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),u=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}())},c=function(t,e){var n=parseInt(t,10);return n>=0?n:e},i=[],void 0!==(r=function(){return o}.apply(e,i))&&(t.exports=r)}()},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(0),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(){i(this,t),this.$el={window:$(window)},this._init()}return r(t,[{key:"_init",value:function(){setTimeout(function(){$("#js-profile").addClass("is-active"),setTimeout(function(){new s.default("svg-animation-logo",{type:"oneByOne",duration:75,forceRender:!1,animTimingFunction:s.default.LINEAR})},500);var t=$("#svg-animation-logo").find("image"),e=window.matchMedia("(min-width: 768px)"),n=function(e){e.matches?t.attr("xlink:href","../assets/img/about/about_logo.svg"):t.attr("xlink:href","../assets/img/index/mv_logo.svg")};e.addListener(n),n(e)},50)}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=n(8),s=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(){i(this,t),this.$el={window:$(window)},this._init()}return r(t,[{key:"_init",value:function(){this.slider(),this.moviePlayer(),this.isReady(),$(".back").find("a").on("click",function(t){t.preventDefault(),"index"===$("body").attr("data-page-key")?history.back():location.href="/"})}},{key:"isReady",value:function(){setTimeout(function(){$("main.content").addClass("is-ready")},500)}},{key:"slider",value:function(){var t=this,e=$("#js-slider"),n=$("#js-pager-max"),i=$("#js-pager-current"),r=$("#js-tab");e.on("init",function(e,o){i.html(t.zeroPadding(o.currentSlide+1,2)),n.html(t.zeroPadding(o.slideCount,2)),r.length>0&&r.find("a").eq(o.currentSlide).addClass("is-current")}).slick({dots:!1,arrows:!1,vertical:!0,swipe:!1,speed:750,cssEase:"cubic-bezier(0.165, 0.840, 0.440, 1.000)"}),e.on("wheel",function(t){t.preventDefault(),t.originalEvent.deltaY<-70?e.slick("slickPrev"):t.originalEvent.deltaY>70&&e.slick("slickNext")}),e.on("afterChange",function(e,n){i.html(t.zeroPadding(n.currentSlide+1,2)),t.changeSliderBg(),r.length>0&&r.find("a").removeClass("is-current").eq(n.currentSlide).addClass("is-current")});var o=new s.default(e.get(0));o.get("swipe").set({direction:s.default.DIRECTION_ALL,threshold:1,velocity:.1}),o.on("swipeup",function(t){e.slick("slickNext")}),o.on("swipedown",function(t){e.slick("slickPrev")}),r.length>0&&r.find("a").on("click",function(t){t.preventDefault();var n=$(t.currentTarget),i=n.attr("data-slide");e.slick("slickGoTo",i)})}},{key:"zeroPadding",value:function(t,e){return("00"+t).slice(-e)}},{key:"changeSliderBg",value:function(){var t=$("#js-slider-bg"),e=$(".slick-current").find(".slider__item-photo").css("backgroundImage");t.css({backgroundImage:e})}},{key:"moviePlayer",value:function(){$(".js-play-movie").on("click",function(t){t.preventDefault();var e=$(t.currentTarget),n=e.attr("href").replace("https://www.youtube.com/watch?v=",""),i=e.parent().find(".js-player");e.remove(),i.html('\n        <iframe\n          width="980"\n          height="550"\n          src="https://www.youtube.com/embed/'+n+'?controls=0"\n          frameborder="0"\n          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n          allowfullscreen\n        ></iframe>')})}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(0),a=i(s),u=n(9),c=i(u),l=(n(5),function(){function t(){r(this,t),this.$el={window:$(window),document:$(document),body:$("body")},this.isSafari=null,"index"===this.$el.body.attr("data-page-key")&&this._init()}return o(t,[{key:"_init",value:function(){var t=this;this.loading(),this.headerScrollMenu(),this.cardHover(),this.transitionItem(),this.$el.window.on("load",function(){t.parallax(),t.sectionTitleAnimation(),t.fadeInWroksTitle()})}},{key:"transitionItem",value:function(){var t=this,e=$(".section__item"),n=$("main.content");e.find("a").on("click",function(e){e.preventDefault();var i=$(e.currentTarget),r=i.find("img"),o=t.$el.window.width(),s=t.$el.window.height(),a=r.width(),u=r.height(),c=r.offset().top,l=r.offset().left,h=t.$el.window.scrollTop(),f=-(c-h-s/2+u/2),d=-(l-o/2+a/2),p="movie"===i.attr("data-type")?980/a:(s-160)/u;t.$el.window.width()>768?r.css({transform:"translate3d("+d+"px,"+f+"px,0) scale("+p+")"}):r.css({transform:"translate3d("+d+"px,"+f+"px,0)"}),n.addClass("is-transition"),i.addClass("is-selected")})}},{key:"loading",value:function(){function t(){i.find(".num").html(n),i.find(".bar").css({width:n+"%"})}var e=this,n=0,i=$("#js-loading");if(location.hash)return n=100,t(),void setTimeout(function(){i.fadeOut("slow"),e.playMvLogoAnimation()},1e3);n=5,t(),this.$el.body.css({overflow:"hidden"}),this.$el.window.on("touchmove.noScroll",function(t){t.preventDefault()}),setTimeout(function(){n=18,t()},250),setTimeout(function(){n=25,t()},750),setTimeout(function(){n=32,t()},900),setTimeout(function(){n=35,t()},1200),setTimeout(function(){n=42,t()},1500),setTimeout(function(){n=68,t()},2e3),setTimeout(function(){n=72,t()},2200),setTimeout(function(){n=89,t()},2800),setTimeout(function(){n=100,t()},3e3),setTimeout(function(){i.addClass("is-loaded")},3500),setTimeout(function(){i.fadeOut("slow"),e.$el.window.off(".noScroll"),e.$el.body.css({overflow:"visible"}),e.playMvLogoAnimation()},3800)}},{key:"parallax",value:function(){var t={works:null,photo:null,movie:null},e=window.matchMedia("(min-width: 768px)"),n=function(e){e.matches?(t.works=new c.default(".js-parallax-works",{center:!0}),t.photo=new c.default(".js-parallax-photo",{center:!0}),t.movie=new c.default(".js-parallax-movie",{center:!0})):t.works&&t.photo&&t.movie&&(t.works.destroy(),t.photo.destroy(),t.movie.destroy())};e.addListener(n),n(e)}},{key:"cardHover",value:function(){var t=$(".section__item"),e=$(".js-section-title"),n=$("#js-section-bg"),i=$("#js-section-item-title"),r=$("#js-hover-bg");t.on("mouseenter",function(o){var s=$(o.currentTarget),a=s.find("img").attr("src"),u=s.find("h2").text();t.addClass("is-opacity"),e.addClass("is-opacity"),n.addClass("is-opacity"),s.addClass("is-hover"),i.addClass("is-hover").find(".section-item-title__item").html(u),r.addClass("is-hover").find(".hover-bg__item").css({backgroundImage:"url("+a+")"})}),t.on("mouseleave",function(o){var s=$(o.currentTarget);t.removeClass("is-opacity"),e.removeClass("is-opacity"),n.removeClass("is-opacity"),s.removeClass("is-hover"),i.removeClass("is-hover"),r.removeClass("is-hover")})}},{key:"playMvLogoAnimation",value:function(){var t=$("#js-mainvisual");t.addClass("is-loaded"),new a.default("svg-animation-logo",{type:"oneByOne",duration:75,forceRender:!1,animTimingFunction:a.default.LINEAR},function(){t.addClass("is-active")})}},{key:"sectionTitleAnimation",value:function(){var t=this,e=$("#works"),n=$("#photo"),i=$("#movie"),r=$("#js-section-title-works"),o=$("#js-section-title-photo"),s=$("#js-section-title-movie"),u=$("#js-section-bg-works"),c=$("#js-section-bg-photo"),l=$("#js-section-bg-movie"),h={works:{offset:e.offset().top,height:e.innerHeight(),drawStroke:!1},photo:{offset:n.offset().top,height:n.innerHeight(),drawStroke:!1},movie:{offset:i.offset().top,height:i.innerHeight(),drawStroke:!1}},f=0;this.$el.window.on("scroll",function(){f=t.$el.window.scrollTop(),f>h.works.offset-.25*t.$el.window.height()&&f<h.works.offset-.25*t.$el.window.height()+h.works.height?(e.addClass("is-active"),u.addClass("is-active"),r.addClass("is-active"),h.works.drawStroke||(h.works.drawStroke=!0,t.$el.body.addClass("is-drawing"),new a.default("svg-animation-title-works",{type:"oneByOne",duration:75,forceRender:!1,animTimingFunction:a.default.LINEAR},function(e){e.el.classList.add("is-finished"),t.$el.body.removeClass("is-drawing")}))):(e.removeClass("is-active"),u.removeClass("is-active"),r.removeClass("is-active")),f>h.photo.offset-.25*t.$el.window.height()&&f<h.photo.offset-.25*t.$el.window.height()+h.photo.height?(n.addClass("is-active"),c.addClass("is-active"),o.addClass("is-active"),h.photo.drawStroke||(h.photo.drawStroke=!0,t.$el.body.addClass("is-drawing"),new a.default("svg-animation-title-photo",{type:"oneByOne",duration:75,forceRender:!1,animTimingFunction:a.default.LINEAR},function(e){e.el.classList.add("is-finished"),t.$el.body.removeClass("is-drawing")}))):(n.removeClass("is-active"),c.removeClass("is-active"),o.removeClass("is-active")),f>h.movie.offset-.25*t.$el.window.height()&&f<h.movie.offset-.25*t.$el.window.height()+h.movie.height?(i.addClass("is-active"),l.addClass("is-active"),s.addClass("is-active"),h.movie.drawStroke||(h.movie.drawStroke=!0,t.$el.body.addClass("is-drawing"),new a.default("svg-animation-title-movie",{type:"oneByOne",duration:75,forceRender:!1,animTimingFunction:a.default.LINEAR},function(e){e.el.classList.add("is-finished"),t.$el.body.removeClass("is-drawing")}))):(i.removeClass("is-active"),l.removeClass("is-active"),s.removeClass("is-active"))})}},{key:"headerScrollMenu",value:function(){$(".header__section").find("a").on("click",function(t){t.preventDefault();var e=$(t.currentTarget),n=e.attr("href"),i=$(n).offset().top;$("html,body").animate({scrollTop:i},1e3,"easeOutQuart")})}},{key:"fadeInWroksTitle",value:function(){var t=this,e=$(".section__item"),n=$("#js-section-item-title"),i=[],r=this.$el.window.height(),o=0,s=[],a="",u=window.matchMedia("(max-width: 767px)"),c=function(u){if(u.matches){for(var c=0;c<e.length;c++)i.push(e.eq(c).offset().top+e.eq(c).find("img").height()/2),s.push(!1);t.$el.window.on("scroll.fadeInWroksTitle",function(){o=t.$el.window.scrollTop();for(var u=0;u<i.length;u++)s[u]?o+r<i[u]&&(s[u]=!1,a=e.eq(u).find("h2").text(),n.find(".section-item-title__item").html(a)):o+r>i[u]&&(s[u]=!0,a=e.eq(u).find("h2").text(),n.find(".section-item-title__item").html(a))})}else t.$el.window.off("fadeInWroksTitle")};u.addListener(c),c(u)}}]),t}());e.default=l},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="http://localhost:8080/dist",e(0)}([function(t,e,n){"function"!=typeof Promise&&(window.Promise=n(1));var i={version:"1.0.0",BaseTransition:n(4),BaseView:n(6),BaseCache:n(8),Dispatcher:n(7),HistoryManager:n(9),Pjax:n(10),Prefetch:n(13),Utils:n(5)};t.exports=i},function(t,e,n){(function(e){!function(n){function i(){}function r(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function s(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,d(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?a:u)(e.promise,t._value);var i;try{i=n(t._value)}catch(t){return void u(e.promise,t)}a(e.promise,i)})}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void h(r(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&d(function(){t._handled||p(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}var f=setTimeout,d="function"==typeof e&&e||function(t){f(t,0)},p=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return s(this,new l(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){i(o,t)},n)}e[o]=s,0==--r&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},o._setImmediateFn=function(t){d=t},o._setUnhandledRejectionFn=function(t){p=t},void 0!==t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(e,n(2).setImmediate)},function(t,e,n){(function(t,i){function r(t,e){this._id=t,this._clearFn=e}var o=n(3).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,i=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete u[t]}}).call(e,n(2).setImmediate,n(2).clearImmediate)},function(t,e){function n(){h&&c&&(h=!1,c.length?l=c.concat(l):f=-1,l.length&&i())}function i(){if(!h){var t=s(n);h=!0;for(var e=l.length;e;){for(c=l,l=[];++f<e;)c&&c[f].run();f=-1,e=l.length}c=null,h=!1,a(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var s,a,u=t.exports={};!function(){try{s=setTimeout}catch(t){s=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(t){a=function(){throw new Error("clearTimeout is not defined")}}}();var c,l=[],h=!1,f=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new r(t,e)),1!==l.length||h||s(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){var i=n(5),r={oldContainer:void 0,newContainer:void 0,newContainerLoading:void 0,extend:function(t){return i.extend(this,t)},init:function(t,e){var n=this;return this.oldContainer=t,this._newContainerPromise=e,this.deferred=i.deferred(),this.newContainerReady=i.deferred(),this.newContainerLoading=this.newContainerReady.promise,this.start(),this._newContainerPromise.then(function(t){n.newContainer=t,n.newContainerReady.resolve()}),this.deferred.promise},done:function(){this.oldContainer.parentNode.removeChild(this.oldContainer),this.newContainer.style.visibility="visible",this.deferred.resolve()},start:function(){}};t.exports=r},function(t,e){var n={getCurrentUrl:function(){return window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search},cleanLink:function(t){return t.replace(/#.*/,"")},xhrTimeout:5e3,xhr:function(t){var e=this.deferred(),n=new XMLHttpRequest;return n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?e.resolve(n.responseText):e.reject(new Error("xhr: HTTP code is not 200"))},n.ontimeout=function(){return e.reject(new Error("xhr: Timeout exceeded"))},n.open("GET",t),n.timeout=this.xhrTimeout,n.setRequestHeader("x-barba","yes"),n.send(),e.promise},extend:function(t,e){var n=Object.create(t);for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n},deferred:function(){return new function(){this.resolve=null,this.reject=null,this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this))}},getPort:function(t){var e=void 0!==t?t:window.location.port,n=window.location.protocol;return""!=e?parseInt(e):"http:"===n?80:"https:"===n?443:void 0}};t.exports=n},function(t,e,n){var i=n(7),r=n(5),o={namespace:null,extend:function(t){return r.extend(this,t)},init:function(){var t=this;i.on("initStateChange",function(e,n){n&&n.namespace===t.namespace&&t.onLeave()}),i.on("newPageReady",function(e,n,i){t.container=i,e.namespace===t.namespace&&t.onEnter()}),i.on("transitionCompleted",function(e,n){e.namespace===t.namespace&&t.onEnterCompleted(),n&&n.namespace===t.namespace&&t.onLeaveCompleted()})},onEnter:function(){},onEnterCompleted:function(){},onLeave:function(){},onLeaveCompleted:function(){}};t.exports=o},function(t,e){var n={events:{},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){t in this.events!=!1&&this.events[t].splice(this.events[t].indexOf(e),1)},trigger:function(t){if(t in this.events!=!1)for(var e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}};t.exports=n},function(t,e,n){var i=n(5),r={data:{},extend:function(t){return i.extend(this,t)},set:function(t,e){this.data[t]=e},get:function(t){return this.data[t]},reset:function(){this.data={}}};t.exports=r},function(t,e){var n={history:[],add:function(t,e){e||(e=void 0),this.history.push({url:t,namespace:e})},currentStatus:function(){return this.history[this.history.length-1]},prevStatus:function(){var t=this.history;return t.length<2?null:t[t.length-2]}};t.exports=n},function(t,e,n){var i=n(5),r=n(7),o=n(11),s=n(8),a=n(9),u=n(12),c={Dom:u,History:a,Cache:s,cacheEnabled:!0,transitionProgress:!1,ignoreClassLink:"no-barba",start:function(){this.init()},init:function(){var t=this.Dom.getContainer();this.Dom.getWrapper().setAttribute("aria-live","polite"),this.History.add(this.getCurrentUrl(),this.Dom.getNamespace(t)),r.trigger("initStateChange",this.History.currentStatus()),r.trigger("newPageReady",this.History.currentStatus(),{},t,this.Dom.currentHTML),r.trigger("transitionCompleted",this.History.currentStatus()),this.bindEvents()},bindEvents:function(){document.addEventListener("click",this.onLinkClick.bind(this)),window.addEventListener("popstate",this.onStateChange.bind(this))},getCurrentUrl:function(){return i.cleanLink(i.getCurrentUrl())},goTo:function(t){window.history.pushState(null,null,t),this.onStateChange()},forceGoTo:function(t){window.location=t},load:function(t){var e,n=i.deferred(),r=this;return e=this.Cache.get(t),e||(e=i.xhr(t),this.Cache.set(t,e)),e.then(function(t){var e=r.Dom.parseResponse(t);r.Dom.putContainer(e),
r.cacheEnabled||r.Cache.reset(),n.resolve(e)},function(){r.forceGoTo(t),n.reject()}),n.promise},getHref:function(t){if(t)return t.getAttribute&&"string"==typeof t.getAttribute("xlink:href")?t.getAttribute("xlink:href"):"string"==typeof t.href?t.href:void 0},onLinkClick:function(t){for(var e=t.target;e&&!this.getHref(e);)e=e.parentNode;if(this.preventCheck(t,e)){t.stopPropagation(),t.preventDefault(),r.trigger("linkClicked",e,t);var n=this.getHref(e);this.goTo(n)}},preventCheck:function(t,e){if(!window.history.pushState)return!1;var n=this.getHref(e);return!(!e||!n)&&(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)&&((!e.target||"_blank"!==e.target)&&(window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&(i.getPort()===i.getPort(e.port)&&(!(n.indexOf("#")>-1)&&((!e.getAttribute||"string"!=typeof e.getAttribute("download"))&&(i.cleanLink(n)!=i.cleanLink(location.href)&&!e.classList.contains(this.ignoreClassLink))))))))},getTransition:function(){return o},onStateChange:function(){var t=this.getCurrentUrl();if(this.transitionProgress&&this.forceGoTo(t),this.History.currentStatus().url===t)return!1;this.History.add(t);var e=this.load(t),n=Object.create(this.getTransition());this.transitionProgress=!0,r.trigger("initStateChange",this.History.currentStatus(),this.History.prevStatus());var i=n.init(this.Dom.getContainer(),e);e.then(this.onNewContainerLoaded.bind(this)),i.then(this.onTransitionEnd.bind(this))},onNewContainerLoaded:function(t){this.History.currentStatus().namespace=this.Dom.getNamespace(t),r.trigger("newPageReady",this.History.currentStatus(),this.History.prevStatus(),t,this.Dom.currentHTML)},onTransitionEnd:function(){this.transitionProgress=!1,r.trigger("transitionCompleted",this.History.currentStatus(),this.History.prevStatus())}};t.exports=c},function(t,e,n){var i=n(4),r=i.extend({start:function(){this.newContainerLoading.then(this.finish.bind(this))},finish:function(){this.done()}});t.exports=r},function(t,e){var n={dataNamespace:"namespace",wrapperId:"barba-wrapper",containerClass:"barba-container",currentHTML:document.documentElement.innerHTML,parseResponse:function(t){this.currentHTML=t;var e=document.createElement("div");e.innerHTML=t;var n=e.querySelector("title");return n&&(document.title=n.textContent),this.getContainer(e)},getWrapper:function(){var t=document.getElementById(this.wrapperId);if(!t)throw new Error("Barba.js: wrapper not found!");return t},getContainer:function(t){if(t||(t=document.body),!t)throw new Error("Barba.js: DOM not ready!");var e=this.parseContainer(t);if(e&&e.jquery&&(e=e[0]),!e)throw new Error("Barba.js: no container found");return e},getNamespace:function(t){return t&&t.dataset?t.dataset[this.dataNamespace]:t?t.getAttribute("data-"+this.dataNamespace):null},putContainer:function(t){t.style.visibility="hidden",this.getWrapper().appendChild(t)},parseContainer:function(t){return t.querySelector("."+this.containerClass)}};t.exports=n},function(t,e,n){var i=n(5),r=n(10),o={ignoreClassLink:"no-barba-prefetch",init:function(){if(!window.history.pushState)return!1;document.body.addEventListener("mouseover",this.onLinkEnter.bind(this)),document.body.addEventListener("touchstart",this.onLinkEnter.bind(this))},onLinkEnter:function(t){for(var e=t.target;e&&!r.getHref(e);)e=e.parentNode;if(e&&!e.classList.contains(this.ignoreClassLink)){var n=r.getHref(e);if(r.preventCheck(t,e)&&!r.Cache.get(n)){var o=i.xhr(n);r.Cache.set(n,o)}}}};t.exports=o}])})},function(t,e,n){"use strict";/*!
 * ansi-colors <https://github.com/doowb/ansi-colors>
 *
 * Copyright (c) 2015-2017, Brian Woodward.
 * Released under the MIT License.
 */
var i=n(6);e.bgblack=function(t){return i(40,49,t)},e.bgblue=function(t){return i(44,49,t)},e.bgcyan=function(t){return i(46,49,t)},e.bggreen=function(t){return i(42,49,t)},e.bgmagenta=function(t){return i(45,49,t)},e.bgred=function(t){return i(41,49,t)},e.bgwhite=function(t){return i(47,49,t)},e.bgyellow=function(t){return i(43,49,t)},e.black=function(t){return i(30,39,t)},e.blue=function(t){return i(34,39,t)},e.bold=function(t){return i(1,22,t)},e.cyan=function(t){return i(36,39,t)},e.dim=function(t){return i(2,22,t)},e.gray=function(t){return i(90,39,t)},e.green=function(t){return i(32,39,t)},e.grey=function(t){return i(90,39,t)},e.hidden=function(t){return i(8,28,t)},e.inverse=function(t){return i(7,27,t)},e.italic=function(t){return i(3,23,t)},e.magenta=function(t){return i(35,39,t)},e.red=function(t){return i(31,39,t)},e.reset=function(t){return i(0,0,t)},e.strikethrough=function(t){return i(9,29,t)},e.underline=function(t){return i(4,24,t)},e.white=function(t){return i(37,39,t)},e.yellow=function(t){return i(33,39,t)}},function(t,e,n){"use strict";t.exports=function(t,e,n){return"["+t+"m"+n+"["+e+"m"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(4),o=i(r),s=n(3),a=i(s),u=n(2),c=i(u),l=n(1),h=i(l);!function(){new a.default,o.default.Dispatcher.on("newPageReady",function(t,e,n){switch(t.namespace){case"index":var i=$("main.content");i.hasClass("is-transition")&&(i.removeClass("is-transition"),$(".section__item").find("a").removeClass("is-selected").find("img").css({transform:"none"}));break;case"detail":new c.default;break;case"about":new h.default}}),o.default.Pjax.init()}()},function(t,e,n){var i;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(r,o,s,a){"use strict";function u(t,e,n){return setTimeout(d(t,n),e)}function c(t,e,n){return!!Array.isArray(t)&&(l(t,n[e],n),!0)}function l(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function h(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}function f(t,e,n){var i,r=e.prototype;i=t.prototype=Object.create(r),i.constructor=t,i._super=r,n&&pt(i,n)}function d(t,e){return function(){return t.apply(e,arguments)}}function p(t,e){return typeof t==gt?t.apply(e?e[0]||a:a,e):t}function m(t,e){return t===a?e:t}function v(t,e,n){l(T(e),function(e){t.addEventListener(e,n,!1)})}function g(t,e,n){l(T(e),function(e){t.removeEventListener(e,n,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function w(t,e){return t.indexOf(e)>-1}function T(t){return t.trim().split(/\s+/g)}function b(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function C(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];b(r,s)<0&&i.push(t[o]),r[o]=s,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function x(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<mt.length;){if(n=mt[o],(i=n?n+r:e)in t)return i;o++}return a}function k(){return Ct++}function A(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){p(t.options.enable,[t])&&n.handler(e)},this.init()}function S(t){var e=t.options.inputClass;return new(e||(At?z:_t?W:kt?B:q))(t,L)}function L(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&Lt&&i-r==0,s=e&(It|Mt)&&i-r==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,P(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function P(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=R(e)),r>1&&!n.firstMultiple?n.firstMultiple=R(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=O(i);e.timeStamp=Tt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=j(a,u),e.distance=D(a,u),I(n,e),e.offsetDirection=$(e.deltaX,e.deltaY);var c=F(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=wt(c.x)>wt(c.y)?c.x:c.y,e.scale=s?N(s.pointers,i):1,e.rotation=s?H(s.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,M(n,e);var l=t.element;y(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function I(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Lt&&o.eventType!==It||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}function M(t,e){var n,i,r,o,s=t.lastInterval||e,u=e.timeStamp-s.timeStamp;if(e.eventType!=Mt&&(u>St||s.velocity===a)){var c=e.deltaX-s.deltaX,l=e.deltaY-s.deltaY,h=F(u,c,l);i=h.x,r=h.y,n=wt(h.x)>wt(h.y)?h.x:h.y,o=$(c,l),t.lastInterval=e}else n=s.velocity,i=s.velocityX,r=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}function R(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:yt(t.pointers[n].clientX),clientY:yt(t.pointers[n].clientY)},n++;return{timeStamp:Tt(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:yt(t[0].clientX),y:yt(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:yt(n/e),y:yt(i/e)}}function F(t,e,n){return{x:e/t||0,y:n/t||0}}function $(t,e){return t===e?Rt:wt(t)>=wt(e)?t<0?Ot:Ft:e<0?$t:Dt}function D(t,e,n){n||(n=qt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function j(t,e,n){n||(n=qt);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return 180*Math.atan2(r,i)/Math.PI}function H(t,e){return j(e[1],e[0],zt)+j(t[1],t[0],zt)}function N(t,e){return D(e[0],e[1],zt)/D(t[0],t[1],zt)}function q(){this.evEl=Yt,this.evWin=Wt,this.pressed=!1,_.apply(this,arguments)}function z(){this.evEl=Gt,this.evWin=Ut,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function V(){this.evTarget=Kt,this.evWin=Qt,this.started=!1,_.apply(this,arguments)}function Y(t,e){var n=E(t.touches),i=E(t.changedTouches);return e&(It|Mt)&&(n=C(n.concat(i),"identifier",!0)),[n,i]}function W(){this.evTarget=te,this.targetIds={},_.apply(this,arguments)}function X(t,e){var n=E(t.touches),i=this.targetIds;if(e&(Lt|Pt)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,s=E(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return y(t.target,u)}),e===Lt)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<s.length;)i[s[r].identifier]&&a.push(s[r]),e&(It|Mt)&&delete i[s[r].identifier],r++;return a.length?[C(o.concat(a),"identifier",!0),a]:void 0}function B(){_.apply(this,arguments);var t=d(this.handler,this);this.touch=new W(this.manager,t),this.mouse=new q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function G(t,e){t&Lt?(this.primaryTouch=e.changedPointers[0].identifier,U.call(this,e)):t&(It|Mt)&&U.call(this,e)}function U(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches,r=function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)};setTimeout(r,ee)}}function Z(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),s=Math.abs(n-r.y);if(o<=ne&&s<=ne)return!0}return!1}function K(t,e){this.manager=t,this.set(e)}function Q(t){if(w(t,ae))return ae;var e=w(t,ue),n=w(t,ce);return e&&n?ae:e||n?e?ue:ce:w(t,se)?se:oe}function J(t){this.options=pt({},this.defaults,t||{}),this.id=k(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=he,this.simultaneous={},this.requireFail=[]}function tt(t){return t&ve?"cancel":t&pe?"end":t&de?"move":t&fe?"start":""}function et(t){return t==Dt?"down":t==$t?"up":t==Ot?"left":t==Ft?"right":""}function nt(t,e){var n=e.manager;return n?n.get(t):t}function it(){J.apply(this,arguments)}function rt(){it.apply(this,arguments),this.pX=null,this.pY=null}function ot(){it.apply(this,arguments)}function st(){J.apply(this,arguments),this._timer=null,this._input=null}function at(){it.apply(this,arguments)}function ut(){it.apply(this,arguments)}function ct(){J.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function lt(t,e){return e=e||{},e.recognizers=m(e.recognizers,lt.defaults.preset),new ht(t,e)}function ht(t,e){this.options=pt({},lt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=S(this),this.touchAction=new K(this,this.options.touchAction),ft(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ft(t,e){var n=t.element;if(n.style){var i;l(t.options.cssProps,function(r,o){i=x(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""}),e||(t.oldCssProps={})}}function dt(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var pt,mt=["","webkit","Moz","MS","ms","o"],vt=o.createElement("div"),gt="function",yt=Math.round,wt=Math.abs,Tt=Date.now;pt="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==a&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var bt=h(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===a)&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`."),Et=h(function(t,e){return bt(t,e,!0)},"merge","Use `assign`."),Ct=1,xt=/mobile|tablet|ip(ad|hone|od)|android/i,kt="ontouchstart"in r,At=x(r,"PointerEvent")!==a,_t=kt&&xt.test(navigator.userAgent),St=25,Lt=1,Pt=2,It=4,Mt=8,Rt=1,Ot=2,Ft=4,$t=8,Dt=16,jt=Ot|Ft,Ht=$t|Dt,Nt=jt|Ht,qt=["x","y"],zt=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(A(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(A(this.element),this.evWin,this.domHandler)}};var Vt={mousedown:Lt,mousemove:Pt,mouseup:It},Yt="mousedown",Wt="mousemove mouseup";f(q,_,{handler:function(t){var e=Vt[t.type];e&Lt&&0===t.button&&(this.pressed=!0),e&Pt&&1!==t.which&&(e=It),this.pressed&&(e&It&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Xt={pointerdown:Lt,pointermove:Pt,pointerup:It,pointercancel:Mt,pointerout:Mt},Bt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Gt="pointerdown",Ut="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(Gt="MSPointerDown",Ut="MSPointerMove MSPointerUp MSPointerCancel"),f(z,_,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=Xt[i],o=Bt[t.pointerType]||t.pointerType,s="touch"==o,a=b(e,t.pointerId,"pointerId");r&Lt&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(It|Mt)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var Zt={touchstart:Lt,touchmove:Pt,touchend:It,touchcancel:Mt},Kt="touchstart",Qt="touchstart touchmove touchend touchcancel";f(V,_,{handler:function(t){var e=Zt[t.type];if(e===Lt&&(this.started=!0),this.started){var n=Y.call(this,t,e);e&(It|Mt)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Jt={touchstart:Lt,touchmove:Pt,touchend:It,touchcancel:Mt},te="touchstart touchmove touchend touchcancel";f(W,_,{handler:function(t){var e=Jt[t.type],n=X.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var ee=2500,ne=25;f(B,_,{handler:function(t,e,n){var i="touch"==n.pointerType,r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)G.call(this,e,n);else if(r&&Z.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ie=x(vt.style,"touchAction"),re=ie!==a,oe="auto",se="manipulation",ae="none",ue="pan-x",ce="pan-y",le=function(){if(!re)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||r.CSS.supports("touch-action",n)}),t}();K.prototype={set:function(t){"compute"==t&&(t=this.compute()),re&&this.manager.element.style&&le[t]&&(this.manager.element.style[ie]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){p(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Q(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var i=this.actions,r=w(i,ae)&&!le[ae],o=w(i,ce)&&!le[ce],s=w(i,ue)&&!le[ue];if(r){var a=1===t.pointers.length,u=t.distance<2,c=t.deltaTime<250;if(a&&u&&c)return}return s&&o?void 0:r||o&&n&jt||s&&n&Ht?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var he=1,fe=2,de=4,pe=8,me=pe,ve=16;J.prototype={defaults:{},set:function(t){return pt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(c(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=nt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return c(t,"dropRecognizeWith",this)?this:(t=nt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(c(t,"requireFailure",this))return this;var e=this.requireFail;return t=nt(t,this),-1===b(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(c(t,"dropRequireFailure",this))return this;t=nt(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,i=this.state;i<pe&&e(n.options.event+tt(i)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),i>=pe&&e(n.options.event+tt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|he)))return!1;t++}return!0},recognize:function(t){var e=pt({},t);if(!p(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(me|ve|32)&&(this.state=he),this.state=this.process(e),this.state&(fe|de|pe|ve)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},f(it,J,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(fe|de),r=this.attrTest(t);return i&&(n&Mt||!r)?e|ve:i||r?n&It?e|pe:e&fe?e|de:fe:32}}),f(rt,it,{defaults:{event:"pan",threshold:10,pointers:1,direction:Nt},getTouchAction:function(){var t=this.options.direction,e=[];return t&jt&&e.push(ce),t&Ht&&e.push(ue),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&jt?(r=0===o?Rt:o<0?Ot:Ft,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===s?Rt:s<0?$t:Dt,n=s!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return it.prototype.attrTest.call(this,t)&&(this.state&fe||!(this.state&fe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=et(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),f(ot,it,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&fe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),f(st,J,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[oe]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(It|Mt)&&!r)this.reset();else if(t.eventType&Lt)this.reset(),this._timer=u(function(){this.state=me,this.tryEmit()},e.time,this);else if(t.eventType&It)return me;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===me&&(t&&t.eventType&It?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Tt(),this.manager.emit(this.options.event,this._input)))}}),f(at,it,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&fe)}}),f(ut,it,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:jt|Ht,pointers:1},getTouchAction:function(){return rt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(jt|Ht)?e=t.overallVelocity:n&jt?e=t.overallVelocityX:n&Ht&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&wt(e)>this.options.velocity&&t.eventType&It},emit:function(t){var e=et(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),f(ct,J,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[se]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&Lt&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=It)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||D(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=u(function(){this.state=me,this.tryEmit()},e.interval,this),fe):me}return 32},failTimeout:function(){return this._timer=u(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==me&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),lt.VERSION="2.0.7",lt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[at,{enable:!1}],[ot,{enable:!1},["rotate"]],[ut,{direction:jt}],[rt,{direction:jt},["swipe"]],[ct],[ct,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ht.prototype={set:function(t){return pt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&me)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(fe|de|pe)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof J)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(c(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(c(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=b(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return l(T(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return l(T(t),function(t){e?n[t]&&n[t].splice(b(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&dt(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ft(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pt(lt,{INPUT_START:Lt,INPUT_MOVE:Pt,INPUT_END:It,INPUT_CANCEL:Mt,STATE_POSSIBLE:he,STATE_BEGAN:fe,STATE_CHANGED:de,STATE_ENDED:pe,STATE_RECOGNIZED:me,STATE_CANCELLED:ve,STATE_FAILED:32,DIRECTION_NONE:Rt,DIRECTION_LEFT:Ot,DIRECTION_RIGHT:Ft,DIRECTION_UP:$t,DIRECTION_DOWN:Dt,DIRECTION_HORIZONTAL:jt,DIRECTION_VERTICAL:Ht,DIRECTION_ALL:Nt,Manager:ht,Input:_,TouchAction:K,TouchInput:W,MouseInput:q,PointerEventInput:z,TouchMouseInput:B,SingleTouchInput:V,Recognizer:J,AttrRecognizer:it,Tap:ct,Pan:rt,Swipe:ut,Pinch:ot,Rotate:at,Press:st,on:v,off:g,each:l,merge:Et,extend:bt,assign:pt,inherit:f,bindFn:d,prefixed:x}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=lt,(i=function(){return lt}.call(e,n,e,t))!==a&&(t.exports=i)}(window,document)},function(t,e,n){var i,r,o;!function(n,s){r=[],i=s,void 0!==(o="function"==typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(){var t=function(e,n){"use strict";var i=Object.create(t.prototype),r=0,o=0,s=0,a=0,u=[],c=!0,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},h=null,f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,d=window.transformProp||function(){var t=document.createElement("div");if(null===t.style.transform){var e=["Webkit","Moz","ms"];for(var n in e)if(void 0!==t.style[e[n]+"Transform"])return e[n]+"Transform"}return"transform"}();i.options={speed:-2,center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,callback:function(){}},n&&Object.keys(n).forEach(function(t){i.options[t]=n[t]}),e||(e=".rellax");var p="string"==typeof e?document.querySelectorAll(e):[e];if(!(p.length>0))throw new Error("The elements you're trying to select don't exist.");if(i.elems=p,i.options.wrapper&&!i.options.wrapper.nodeType){var m=document.querySelector(i.options.wrapper);if(!m)throw new Error("The wrapper you're trying to use don't exist.");i.options.wrapper=m}var v=function(){for(var t=0;t<i.elems.length;t++){var e=y(i.elems[t]);u.push(e)}},g=function(){for(var t=0;t<u.length;t++)i.elems[t].style.cssText=u[t].style;u=[],o=window.innerHeight,a=window.innerWidth,w(),v(),c&&(window.addEventListener("resize",g),c=!1),E()},y=function(t){var e=t.getAttribute("data-rellax-percentage"),n=t.getAttribute("data-rellax-speed"),r=t.getAttribute("data-rellax-zindex")||0,s=i.options.wrapper?i.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(i.options.relativeToWrapper){s=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-i.options.wrapper.offsetTop}var u=i.options.vertical&&(e||i.options.center)?s:0,c=i.options.horizontal&&(e||i.options.center)?window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,l=u+t.getBoundingClientRect().top,h=t.clientHeight||t.offsetHeight||t.scrollHeight,f=c+t.getBoundingClientRect().left,d=t.clientWidth||t.offsetWidth||t.scrollWidth,p=e||(u-l+o)/(h+o),m=e||(c-f+a)/(d+a);i.options.center&&(m=.5,p=.5);var v=n||i.options.speed,g=T(m,p,v),y=t.style.cssText,w="";if(y.indexOf("transform")>=0){var b=y.indexOf("transform"),E=y.slice(b),C=E.indexOf(";");w=C?" "+E.slice(11,C).replace(/\s/g,""):" "+E.slice(11).replace(/\s/g,"")}return{baseX:g.x,baseY:g.y,top:l,left:f,height:h,width:d,speed:v,style:y,transform:w,zindex:r}},w=function(){var t=r,e=s;if(r=i.options.wrapper?i.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,s=i.options.wrapper?i.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,i.options.relativeToWrapper){var n=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;r=n-i.options.wrapper.offsetTop}return!(t==r||!i.options.vertical)||!(e==s||!i.options.horizontal)},T=function(t,e,n){var r={},o=n*(100*(1-t)),s=n*(100*(1-e));return r.x=i.options.round?Math.round(o):Math.round(100*o)/100,r.y=i.options.round?Math.round(s):Math.round(100*s)/100,r},b=function(){w()&&!1===c&&E(),h=l(b)},E=function(){for(var t,e=0;e<i.elems.length;e++){var n=(r-u[e].top+o)/(u[e].height+o),c=(s-u[e].left+a)/(u[e].width+a);t=T(c,n,u[e].speed);var l=t.y-u[e].baseY,h=t.x-u[e].baseX,f=u[e].zindex,p="translate3d("+(i.options.horizontal?h:"0")+"px,"+(i.options.vertical?l:"0")+"px,"+f+"px) "+u[e].transform;i.elems[e].style[d]=p}i.options.callback(t)};return i.destroy=function(){for(var t=0;t<i.elems.length;t++)i.elems[t].style.cssText=u[t].style;c||(window.removeEventListener("resize",g),c=!0),f(h),h=null},g(),b(),i.refresh=g,i};return t})}]);